# PowerApp-Form [ARCHIVED]

> âš ï¸ **This repository has been archived**  
> This repository contains manually created Power Apps source files that cannot be packed into a valid .msapp file. It serves as documentation and reference material. For working with Power Apps in source control, you must start with an actual .msapp file exported from Power Apps Studio.

## ğŸ“š Purpose

This repository documents the structure of Power Apps source files and serves as a reference for understanding how Power Apps applications are organized when unpacked for version control.

## ğŸ¯ What We Learned

### The Challenge
Manually created Power Apps source files (JSON/YAML) cannot be packaged into a working .msapp file using Microsoft's Power Platform CLI. The .msapp format contains:
- Proprietary checksums and validation metadata
- Internal structures that must be generated by Microsoft's tools
- Complex Theme objects that require specific initialization
- Binary data that cannot be manually replicated

### The Solution
To work with Power Apps in source control:

1. **Start with a real .msapp file** - Create or obtain an actual Power Apps app
2. **Unpack it** - Use Power Platform CLI to convert to source files
3. **Edit & Commit** - Modify source files and track in Git
4. **Repack** - Convert back to .msapp for import
5. **Deploy** - Import the packed .msapp into Power Platform

## ğŸ› ï¸ Power Platform CLI Setup

We successfully installed the Power Platform CLI tools:

### Installation (Completed)
```bash
# Install .NET SDK
brew install dotnet

# Set DOTNET_ROOT
export DOTNET_ROOT="/usr/local/opt/dotnet/libexec"

# Install PAC CLI
dotnet tool install --global Microsoft.PowerApps.CLI.Tool

# Add to PATH permanently
echo 'export PATH="$PATH:/Users/lancemcdaniel/.dotnet/tools"' >> ~/.zprofile
source ~/.zprofile
```

### Verify Installation
```bash
pac --version
# Should show: Version: 1.50.1+gabb74d2 (.NET 9.0.8)
```

## ğŸ“– Recommended Workflow

### 1. Create/Obtain a Power App

**Option A: Create New App**
- Go to https://make.powerapps.com
- Create a blank canvas app
- Add at least one control
- Save and publish

**Option B: Use Existing App**
- Download .msapp from Power Apps

### 2. Unpack the App
```bash
# Create a new directory for your project
mkdir PowerApp-MyApp
cd PowerApp-MyApp

# Unpack the .msapp file
pac canvas unpack --msapp path/to/YourApp.msapp --sources .
```

### 3. Initialize Git Repository
```bash
git init
git add .
git commit -m "Initial commit: Unpacked Power App"
```

### 4. Make Changes
- Edit source files in `Src/` directory
- Modify `.fx.yaml` files with Power Fx formulas
- Update `Properties.json`, `CanvasManifest.json`, etc.
- Commit changes to Git

### 5. Pack for Deployment
```bash
pac canvas pack --sources . --msapp MyApp-Updated.msapp
```

### 6. Deploy to Power Platform
- Go to https://make.powerapps.com
- Import canvas app
- Upload the packed .msapp file

## ğŸ“ Repository Contents (Reference Only)

This repository contains example Power Apps source files showing the standard structure:

```
PowerApp-Form/
â”œâ”€â”€ CanvasManifest.json          # App metadata
â”œâ”€â”€ Properties.json               # App configuration
â”œâ”€â”€ Header.json                   # Version information
â”œâ”€â”€ .gitignore                    # Git ignore rules
â”œâ”€â”€ POWERAPP_STRUCTURE.md         # Detailed structure docs
â”‚
â”œâ”€â”€ References/                   # App references
â”‚   â”œâ”€â”€ DataSources.json         # Data source references
â”‚   â”œâ”€â”€ Resources.json           # Resource references
â”‚   â””â”€â”€ Themes.json              # Theme configuration
â”‚
â”œâ”€â”€ Src/                         # Source code (Power Fx)
â”‚   â”œâ”€â”€ Screen1.fx.yaml          # Screen definition
â”‚   â””â”€â”€ EditorState/             # Editor state files
â”‚       â””â”€â”€ Screen1.editorstate.json
â”‚
â””â”€â”€ Entropy/                     # Metadata (auto-generated)
    â”œâ”€â”€ Entropy.json             # Control IDs and metadata
    â””â”€â”€ checksum.json            # File validation checksums
```

## ğŸ“ Example Form Structure

The example form in this repository demonstrates:
- **Header Label**: Form title with blue background
- **Name Input**: Text field for name entry
- **Email Input**: Text field for email entry  
- **Message Input**: Multi-line text area
- **Submit Button**: Button with success notification
- **Status Label**: For displaying form status

## ï¿½ Resources

- [Power Apps Documentation](https://docs.microsoft.com/powerapps/)
- [Power Fx Documentation](https://docs.microsoft.com/power-platform/power-fx/)
- [Power Platform CLI](https://docs.microsoft.com/power-platform/developer/cli/introduction)
- [Canvas App Formula Reference](https://docs.microsoft.com/powerapps/maker/canvas-apps/formula-reference)
- [Power Apps Community](https://powerusers.microsoft.com/t5/Power-Apps-Community/ct-p/PowerApps1)

## ğŸ” Security Notes

- Connection strings and secrets should be excluded via `.gitignore`
- Never commit sensitive data source credentials
- Use environment variables for configuration
- Review data permissions in Power Platform admin center

## ğŸ‘¤ Author

**Lance McDaniel**
- GitHub: [@mcdugal19](https://github.com/mcdugal19)

## ğŸ“„ License

This repository is provided as-is for educational and reference purposes.

---

## ğŸ“ Key Takeaways

1. âœ… **Power Platform CLI is installed and working**
2. âŒ **Manually created source files cannot be packed into .msapp**
3. âœ… **Must start with real .msapp file from Power Apps**
4. âœ… **Unpack â†’ Edit â†’ Commit â†’ Pack â†’ Deploy workflow is the way**
5. âœ… **This repository serves as structural reference and documentation**

**Next Steps:** Create a Power App in Power Apps Studio, export the .msapp, unpack it with PAC CLI, and start your real source-controlled Power Apps development!
